<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
        "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="jakarta.faces.html"
      xmlns:f="jakarta.faces.core"
      xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
      xsi:schemaLocation="http://primefaces.org/ui "
      xmlns:p="http://primefaces.org/ui">
<h:head>
    <title>Welcome Page</title>
</h:head>
<h:body>
    <h:outputStylesheet name="main.css"/>
    <!--    NAVIGATION SYSTEM -->
    <h:form styleClass="nav-bar">
        <p:toolbar>
            <p:toolbarGroup>
            <h1><h:outputText value="Game Collection"/></h1>
            <p:commandButton value="Home" action="/index.xhtml"/>
            <p:commandButton value="Dashboard" action="#{loginBean.checkLoggedIn()}"/>
            </p:toolbarGroup>

            <p:toolbarGroup align="right">
                <p:inputText id="globalFilter" placeholder="Search" />
<!--             want to hide login button and display user account page instead-->
                <p:commandButton value="Login" action="/login.xhtml"/>
            </p:toolbarGroup>
        </p:toolbar>
    </h:form>
<!--    <p>Hello guest and welcome to the catalogue!-->
<!--        Browse our wide collection of videogames from all genres and platforms.-->
<!--        To keep track of your games, please login.-->
<!--    </p>-->
    <!--        DISPLAY ALL GAMES -->
    <h:form>
        <p:dataTable value="#{gameBean.getGames()}" var="game" styleClass="game-table">
            <p:column headerText="Title" sortBy="#{game.title}">
                <h:outputText value="#{game.title}"/>
            </p:column>
            <p:column headerText="Price" sortBy="#{game.price}">
                <h:outputText value="#{game.price}"/>
            </p:column>
            <p:column headerText="Genres">
            <p:dataTable value="#{gameGenreBean.getGameGenre(game.id)}" var="gameGenre" styleClass="game-genre">
                <p:column>
                    <h:outputText value="#{gameGenre.name}"/>
                </p:column>
            </p:dataTable>
            </p:column>
            <p:column>
                <f:facet name="header">
                    <h:outputText value="Save"/>
                </f:facet>
                <p:commandButton value="+" action="#{gameBean.saveGameToDashboard(game)}" styleClass="game-save-button"/>
            </p:column>
        </p:dataTable>
        <!--        DISPLAY ALL GENRES-->
        <!--        <h:dataTable value="#{genreBean.listAllGenres()}" var="genre">-->
        <!--            <h:column>-->
        <!--                <f:facet name="header">-->
        <!--                    <h:outputText value="Genre"/>-->
        <!--                </f:facet>-->
        <!--                <h:outputText value="#{genre.name}"/>-->
        <!--            </h:column>-->
        <!--        </h:dataTable>-->
    </h:form>

</h:body>
</html>